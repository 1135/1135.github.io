<body>
    <p id="who"></p>
    <hr>
    <p id="received-message"></p>

    <script>
        document.getElementById("who").innerText = "My document.location.href is " + document.location.href;

        function displayMessage(evt) {
            var message;
            message =
                "I got a message:" +
                "<br><strong>" + evt.data + "</strong><br>" +
                "from:" +
                "<br><strong>" + evt.origin + "</strong><br>" +
                "<hr>";
            document.getElementById("received-message").innerHTML = message;
        }

        if (window.addEventListener) {
            // For standards-compliant web browsers
            window.addEventListener("message", displayMessage, false);
        } else {
            window.attachEvent("onmessage", displayMessage);
        }
    </script>
</body>
